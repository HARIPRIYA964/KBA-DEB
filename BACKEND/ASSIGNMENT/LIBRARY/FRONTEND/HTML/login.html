<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <link rel="stylesheet" href="/CSS/KBACOURSES/STYLE/Library Management/CSS/style.css"> -->
    <script src="https://cdn.tailwindcss.com"></script>
    <title>Sign in</title>
    <script>
        async function createaccnt(event){
             event.preventDefault()
 
             const username= document.getElementById('username').value
             const password= document.getElementById('password').value
             
             console.log(username,password)
 
             try {
                 const response=await fetch("http://127.0.0.1:8003/login",{
                 method: 'POST',
                 credentials:'include',
                 headers:{'Content-Type': 'application/json'},
                 body:JSON.stringify({
                     Username:username,
                     Password:password
                 })                
             })
             console.log(response)   
                 if(response.status === 200){
                     const data = await response.json();
                     console.log(data);                    
                     alert("Login Successfull")
                     window.location.href='./index.html'
                 }else{
                     alert("user does not exist")
                     window.location.href='./signup.html'
                 }
             } catch (error) {
                 console.error('Login error:', error);
                 alert(`Login failed: ${error.message}`);            }
         }
 
     </script>
</head>
<body>
    <form onsubmit="createaccnt(event)">
    <div class="bg-slate-300 h-[100vh] flex justify-center py-7">
        <div class="bg-teal-700 w-[50vh] h-[60vh] rounded-2xl shadow-2xl shadow-green-950 mt-16">
            <div class="p-5  font-serif  ">
                <div class="text-6xl text-center pt-4 text-emerald-100">
                    <span>Sign In</span>
                </div>
               
                <div class="pt-6 text-emerald-100 pl-16 " >
                    <span>User Name</span>
                </div>
                <div class="pt-2 pl-16  w-[10vh] ">
                    <input type="text" class="w-[30vh] h-[4vh]" id="username" required>
                </div>
                <div class="pt-4 text-emerald-100 pl-16">
                    <span>Password</span>
                </div>
                <div class="pt-2 text-black pl-16">
                    <input type="password" class="w-[30vh] h-[4vh]" id="password" required>
                </div>
                
                </div>
                <div class="text-emerald-100 flex justify-center  bg-emerald-950  w-[15vh] h-[4vh] mt-4 ml-36 font-serif">
                    <input type="submit" value="Sign In" >
                </div>
                <div class="  text-emerald-950  mt-6 ml-40 font-serif">
                    <span >Forgot Password?</span>
                </div>
            <div class="ml-20">______________________________________</div>
            <div class="font-serif text-emerald-950 ml-32 ">Don't have an account? <a href="../HTML/signup.html">Sign Up</a></div>
          
            </div>
        </div>
     </div>
    </form>
</body>
</html>